!function i(a,n,f){function o(e,t){if(!n[e]){if(!a[e]){var r="function"==typeof require&&require;if(!t&&r)return r(e,!0);if(l)return l(e,!0);throw(t=new Error("Cannot find module '"+e+"'")).code="MODULE_NOT_FOUND",t}r=n[e]={exports:{}},a[e][0].call(r.exports,function(t){return o(a[e][1][t]||t)},r,r.exports,i,a,n,f)}return n[e].exports}for(var l="function"==typeof require&&require,t=0;t<f.length;t++)o(f[t]);return o}({1:[function(t,e,r){"use strict";function n(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var i,a,n,f,o=[],l=!0,c=!1;try{if(n=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;l=!1}else for(;!(l=(i=n.call(r)).done)&&(o.push(i.value),o.length!==e);l=!0);}catch(t){c=!0,a=t}finally{try{if(!l&&null!=r.return&&(f=r.return(),Object(f)!==f))return}finally{if(c)throw a}}return o}}(t,e)||function(t,e){var r;if(t)return"string"==typeof t?i(t,e):"Map"===(r="Object"===(r=Object.prototype.toString.call(t).slice(8,-1))&&t.constructor?t.constructor.name:r)||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?i(t,e):void 0}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,i=new Array(e);r<e;r++)i[r]=t[r];return i}affiliatewp.attach("mtc",{data:{},initParentAffiliateDropdown:function(){jQuery("#parent-affiliate-id").off().select2({width:"350px",allowClear:!1,ajax:{url:affiliatewp.mtc.data.ajaxUrl,dataType:"json",delay:250,data:function(t){return{action:"affiliatewp_mtc_parent_affiliate_select",nonce:affiliatewp.mtc.data.nonce,q:t.term,page:t.page||1,per_page:10,affiliate_id:null!=(t=affiliatewp.mtc.data.affiliateID)?t:0}},processResults:function(t,e){return e.page=e.page||1,{results:t.items,pagination:{more:10*e.page<t.total}}},cache:!0},placeholder:affiliatewp.mtc.data.i18n.select2placeholder,minimumInputLength:-1}),jQuery('.form-row[data-field="parent-affiliate"] label').on("click",function(){jQuery(this).closest("tr").find("select").select2("open")})},toggleRemoveButtonVisibility:function(){var t=jQuery(".affwp-remove-tier");3<=jQuery(".affwp-tier-row").length?t.css("display","block"):t.css("display","none")},initSelect2:function(t){t.each(function(){var t=jQuery(this);t.select2(affiliatewp.parseArgs(t.data("select2-settings")||{},{width:"170px",minimumResultsForSearch:-1}))})},initTiersRepeater:function(){var e=jQuery("#affwp-tier-rows"),i=jQuery("#affwp-new-tier"),a=e.find(".affwp-tier-row").length;i.on("click",function(t){t.preventDefault();var r,t=jQuery((t={index:a,rate:"",flat_type_options:""},r=affiliatewp.mtc.data.tiersRowHtml,Object.entries(t).forEach(function(t){var t=n(t,2),e=t[0],t=t[1];r=r.replace(new RegExp("{{\\b".concat(e,"\\b}}"),"g"),t)}),r));e.append(t),a=e.find(".affwp-tier-row").length,affiliatewp.mtc.toggleRemoveButtonVisibility(),affiliatewp.mtc.initSelect2(t.find("select")),e.find(".affwp-tier-row").find("input").focus(),a>=affiliatewp.mtc.data.maxReferralTiers&&(i.attr("disabled",!0),i.attr("aria-disabled",!0))}),jQuery(document).on("click",".affwp-remove-tier",function(t){t.preventDefault(),i.attr("disabled",!1),i.attr("aria-disabled",!1),jQuery(this).parent().remove(),affiliatewp.mtc.toggleRemoveButtonVisibility()}),affiliatewp.mtc.toggleRemoveButtonVisibility()}})},{}]},{},[1]);
//# sourceMappingURL=affiliatewp-mtc-admin.min.js.map
